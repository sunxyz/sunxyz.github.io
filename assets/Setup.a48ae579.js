import{ai as ae,aj as Be,ak as Te,al as ce,am as fe,a1 as me,an as pe,ao as Re,ap as Fe,aq as X,aa as he,b as l,ar as _e,as as Y,at as Le,au as ze,av as Pe,aw as Ae,a0 as De,ax as Oe,ay as Ue,az as Ee,a8 as Me,aA as Ge,aB as He,a9 as qe,aC as Ne,a4 as ve,aD as Ke,aE as $e,Q as ie,aF as je,ad as Je,ae as q,aG as Qe,E as b,R as We,aH as ne,aI as Xe,aJ as Ye,a as be,n as B,aK as oe,p as N,aL as Ze,aM as xe,K as Z,F as S,aN as el,ab as ll,aO as ue,aP as al,_ as tl,u as sl,aQ as il,aR as nl,aS as ol,aT as ul,X as dl,r as x,o as T,c as K,w as t,V as ee,A as le,z as rl,G as R,h as u,t as p,H as k,I as w,aU as $,g as A,J as de,aV as cl,e as fl,d as re}from"./index.d851babc.js";import{R as ml}from"./Reader.2d5362c8.js";import{V as pl}from"./VSnackbar.bf87abd4.js";import{V as hl,a as D,b as vl,c as O}from"./VWindowItem.30a13b74.js";import{m as bl,f as gl,V as yl,a as Vl,b as j}from"./VTextField.cbe81e38.js";const ge=Symbol.for("vuetify:v-chip-group"),kl=ae({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Be},...Te({selectedClass:"v-chip--selected"}),...ce(),...fe(),...me({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:r}=a;const{themeClasses:i}=pe(e),{isSelected:o,select:c,next:f,prev:g,selected:y}=Re(e,ge);return Fe({VChip:{color:X(e,"color"),filter:X(e,"filter"),variant:X(e,"variant")}}),he(()=>{var s;return l(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value]},{default:()=>[(s=r.default)==null?void 0:s.call(r,{isSelected:o,select:c,next:f,prev:g,selected:y.value})]})}),{}}}),ye=ae({name:"VChip",directives:{Ripple:_e},props:{activeClass:String,appendAvatar:String,appendIcon:Y,closable:Boolean,closeIcon:{type:Y,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:Y,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},...Le(),...ze(),...Pe(),...Ae(),...De(),...Oe(),...Ue(),...ce({tag:"span"}),...fe(),...me({variant:"tonal"})},emits:{"click:close":e=>!0,"update:active":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0},setup(e,a){let{attrs:r,emit:i,slots:o}=a;const{borderClasses:c}=Ee(e),{colorClasses:f,colorStyles:g,variantClasses:y}=Me(e),{densityClasses:s}=Ge(e),{elevationClasses:F}=He(e),{roundedClasses:J}=qe(e),{sizeClasses:U}=Ne(e),{themeClasses:E}=pe(e),v=ve(e,"modelValue"),n=Ke(e,ge,!1),_=$e(e,r);function L(I){v.value=!1,i("click:close",I)}return()=>{var I;const M=_.isLink.value?"a":e.tag,Q=!!(o.append||e.appendIcon||e.appendAvatar),d=!!(o.close||e.closable),m=!!(o.filter||e.filter)&&n,h=!!(o.prepend||e.prependIcon||e.prependAvatar),V=!n||n.isSelected.value,z=!e.disabled&&(!!n||_.isClickable.value||e.link),W=e.link?e.link:n==null?void 0:n.toggle;return v.value&&ie(l(M,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":z,"v-chip--filter":m,"v-chip--pill":e.pill},E.value,c.value,V?f.value:void 0,s.value,F.value,J.value,U.value,y.value,n==null?void 0:n.selectedClass.value],style:[V?g.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:_.href.value,onClick:z&&W},{default:()=>{var G;return[Je(z,"v-chip"),m&&l(q,{key:"filter",defaults:{VIcon:{icon:e.filterIcon}}},{default:()=>[l(Qe,null,{default:()=>[ie(l("div",{class:"v-chip__filter"},[o.filter?o.filter():l(b,null,null)]),[[We,n.isSelected.value]])]})]}),h&&l(q,{key:"prepend",defaults:{VAvatar:{image:e.prependAvatar},VIcon:{icon:e.prependIcon}}},{default:()=>[o.prepend?l("div",{class:"v-chip__prepend"},[o.prepend()]):e.prependAvatar?l(ne,{start:!0},null):e.prependIcon?l(b,{start:!0},null):void 0]}),(G=(I=o.default)==null?void 0:I.call(o,{isSelected:n==null?void 0:n.isSelected.value,selectedClass:n==null?void 0:n.selectedClass.value,select:n==null?void 0:n.select,toggle:n==null?void 0:n.toggle,value:n==null?void 0:n.value.value,disabled:e.disabled}))!=null?G:e.text,Q&&l(q,{key:"append",defaults:{VAvatar:{image:e.appendAvatar},VIcon:{icon:e.appendIcon}}},{default:()=>[o.append?l("div",{class:"v-chip__append"},[o.append()]):e.appendAvatar?l(ne,{end:!0},null):e.appendIcon?l(b,{end:!0},null):void 0]}),d&&l(q,{key:"close",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},{default:()=>[l("div",{class:"v-chip__close",onClick:L},[o.close?o.close():l(b,null,null)])]})]}}),[[je("ripple"),z&&e.ripple,null]])}}});const Cl=ae({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...Xe({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>Ye(e).every(a=>a!=null&&typeof a=="object")},...bl({clearable:!0})},emits:{"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:r,emit:i,slots:o}=a;const{t:c}=be(),f=ve(e,"modelValue"),g=B(()=>typeof e.showSize!="boolean"?e.showSize:void 0),y=B(()=>{var d;return((d=f.value)!=null?d:[]).reduce((m,h)=>{let{size:V=0}=h;return m+V},0)}),s=B(()=>oe(y.value,g.value)),F=B(()=>{var d;return((d=f.value)!=null?d:[]).map(m=>{const{name:h="",size:V=0}=m;return e.showSize?`${h} (${oe(V,g.value)})`:h})}),J=B(()=>{var h;var d;const m=(h=(d=f.value)==null?void 0:d.length)!=null?h:0;return e.showSize?c(e.counterSizeString,m,s.value):c(e.counterString,m)}),U=N(),E=N(),v=N(!1),n=N(),_=B(()=>e.messages.length?e.messages:e.persistentHint?e.hint:"");function L(){if(n.value!==document.activeElement){var d;(d=n.value)==null||d.focus()}v.value||(v.value=!0)}function I(d){ue(e["onClick:prepend"],d),M(d)}function M(d){var m;(m=n.value)==null||m.click(),i("click:control",d)}function Q(d){d.stopPropagation(),L(),al(()=>{f.value=[],n!=null&&n.value&&(n.value.value=""),ue(e["onClick:clear"],d)})}return he(()=>{const d=!!(o.counter||e.counter),m=!!(d||o.details),[h,V]=Ze(r),[{modelValue:z,...W}]=xe(e),[G]=gl(e);return l(el,Z({ref:U,modelValue:f.value,"onUpdate:modelValue":P=>f.value=P,class:"v-file-input","onClick:prepend":I,"onClick:append":e["onClick:append"]},h,W,{focused:v.value,messages:_.value}),{...o,default:P=>{let{isDisabled:H,isDirty:te,isReadonly:Ve,isValid:ke}=P;return l(yl,Z({ref:E,"prepend-icon":e.prependIcon,"onClick:control":M,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{active:te.value||v.value,dirty:te.value,focused:v.value,error:ke.value===!1}),{...o,default:Ce=>{let{props:{class:we,...Se}}=Ce;return l(S,null,[l("input",Z({ref:n,type:"file",readonly:Ve.value,disabled:H.value,multiple:e.multiple,name:e.name,onClick:C=>{C.stopPropagation(),L()},onChange:C=>{var se;if(!C.target)return;const Ie=C.target;f.value=[...(se=Ie.files)!=null?se:[]]},onFocus:L,onBlur:()=>v.value=!1},Se,V),null),l("div",{class:we},[f.value.length>0&&(o.selection?o.selection({fileNames:F.value,totalBytes:y.value,totalBytesReadable:s.value}):e.chips?F.value.map(C=>l(ye,{key:C,size:"small",color:e.color},{default:()=>[C]})):F.value.join(", "))])])}})},details:m?P=>{var H;return l(S,null,[(H=o.details)==null?void 0:H.call(o,P),d&&l(S,null,[l("span",null,null),l(Vl,{active:!!f.value.length,value:J.value},o.counter)])])}:void 0})}),ll({},U,E,n)}}),{setBar:wl}=sl(),{reloadFollow:Sl}=il(),Il={data:()=>({tab:null,data:[],chanTypeCheck:"",showTip:!1,tipMsg:void 0,search:void 0,submitLoading:!1,channels:[],files:void 0,dialog:!1,item:{}}),setup(){const{t:e}=be();function a(r){return e("setup."+r)}return{st:a}},components:{Reader:ml},async mounted(){wl(this.st("appbar"),"mdi:mdi-plus"),await this.initData(),this.$route.query.chanType?this.chanTypeCheck=this.$route.query.chanType:this.$route.query.q&&(this.search=this.$route.query.q,this.searchRss(this.search))},methods:{go(e){this.$router.push(e)},async initData(){let e=await nl(),a={};for(let r of e){let i=a[r.type];i||(i=[],a[r.type]=i),i.push(r)}this.data=[];for(let r in a)this.data.push({type:r,items:a[r]})},async searchRss(e){if(e=e||this.search,this.search){this.submitLoading=!0;try{this.$router.replace("/setup?q="+e),console.log(e);let a=await ol({search:e});this.chanTypeCheck=void 0,setTimeout(()=>{this.channels=a.map(r=>({id:r}))},300)}catch(a){this.showTip=!0,this.tipMsg=a.response.data.message}this.submitLoading=!1}else this.showTip=!0,this.tipMsg=this.st("rssSearchErr")},async importOpml(){if(this.files&&this.files.length){try{this.submitLoading=!0,await ul(this.files[0]),Sl(),this.showTip=!0,this.tipMsg=this.st("importOpmlSuccess")}catch{this.showTip=!0,this.tipMsg=this.st("importOpmlErr")}this.submitLoading=!1}else this.showTip=!0,this.tipMsg=this.st("importOpmlFail")},async openRead(e){this.item=await dl(e),this.item.id=e}},watch:{chanTypeCheck(e){let a=this.data.filter(r=>r.type==e);e&&this.$router.replace("/setup?chanType="+e),this.channels=a.length?a[0].items:[]}}},Bl={class:"mt-8 mx-auto",style:{"max-width":"1210px"}},Tl=u(" fas fa-rss"),Rl=u("far fa-file-lines"),Fl=u("fab fa-bilibili"),_l=u("fab fa-weibo"),Ll=u("fab fa-zhihu"),zl=u("\u5173\u6CE8\u54D4\u54E9\u54D4\u54E9\u7528\u6237"),Pl=u("\u5C0F\u52A9\u624B\uFF1A\u70B9\u51FB\u7528\u6237\u5934\u50CF\u4F1A\u8BBF\u95EEhttp://space.bilibili.com/xxx?xvsfds \u5176\u4E2D\u7684xxx\u5C31\u662F\u7528\u6237id"),Al=u("\u5173\u6CE8\u5FAE\u535A"),Dl=u("\u5C0F\u52A9\u624B\uFF1A@\u52A0\u7528\u6237id\u662F\u5173\u6CE8\u7528\u6237#\u52A0\u5173\u952E\u8BCDid\u662F\u5173\u6CE8\u5173\u952E\u8BCD"),Ol=u("\u5173\u6CE8\u77E5\u4E4E"),Ul=u("\u5C0F\u52A9\u624B\uFF1A@\u52A0\u7528\u6237id\u662F\u5173\u6CE8\u7528\u6237#\u52A0\u8BDD\u9898id\u662F\u5173\u6CE8\u8BDD\u9898");function El(e,a,r,i,o,c){const f=x("b-channel-light"),g=x("reader"),y=x("c-dialog");return T(),K(S,null,[l(ee,{class:"w-row"},{default:t(()=>[l(le,{width:"100%"},{default:t(()=>[rl("div",Bl,[l(R,null,{default:t(()=>[u(p(i.st("title")),1)]),_:1}),l(k,null,{default:t(()=>[u(p(i.st("subTitle")),1)]),_:1}),l(hl,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=s=>e.tab=s),class:"mt-3"},{default:t(()=>[l(D,{value:"rssFollow"},{default:t(()=>[l(b,{title:i.st("rssTitle")},{default:t(()=>[Tl]),_:1},8,["title"])]),_:1}),l(D,{value:"fileFollow"},{default:t(()=>[l(b,{title:i.st("opmlTitle")},{default:t(()=>[Rl]),_:1},8,["title"])]),_:1}),l(D,{value:"biLiBiLiFollow"},{default:t(()=>[l(b,{title:"\u5173\u6CE8\u54D4\u54E9\u54D4\u54E9\u7528\u6237\u52A8\u6001"},{default:t(()=>[Fl]),_:1})]),_:1}),l(D,{value:"weiBoFollow"},{default:t(()=>[l(b,{title:"\u5173\u6CE8\u5FAE\u535A\u52A8\u6001"},{default:t(()=>[_l]),_:1})]),_:1}),l(D,{value:"zhiHuFollow"},{default:t(()=>[l(b,{title:"\u5173\u6CE8\u77E5\u4E4E\u52A8\u6001"},{default:t(()=>[Ll]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),l(ee,{class:"w-row mt-6"},{default:t(()=>[l(le,{"max-width":"1210",class:"mx-auto auto-size"},{default:t(()=>[l(vl,{modelValue:e.tab,"onUpdate:modelValue":a[14]||(a[14]=s=>e.tab=s)},{default:t(()=>[l(O,{value:"rssFollow"},{default:t(()=>[l(R,{class:"my-3"},{default:t(()=>[u(p(i.st("rssTitle")),1)]),_:1}),l(k,{innerHTML:i.st("rssSubHtml")},null,8,["innerHTML"]),l(w,null,{default:t(()=>[l(j,{flat:"","hide-details":"",label:i.st("rssInputLabel"),"prepend-inner-icon":"fa-solid fa-rss","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":a[1]||(a[1]=s=>e.search=s),onKeyup:a[2]||(a[2]=$(s=>c.searchRss(e.search),["enter"]))},null,8,["label","modelValue"]),l(A,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"primary",rounded:"pill",onClick:a[3]||(a[3]=s=>c.searchRss(e.search))},{default:t(()=>[u(p(i.st("searchBtn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),l(O,{value:"biLiBiLiFollow"},{default:t(()=>[l(R,{class:"my-3"},{default:t(()=>[zl]),_:1}),l(k,null,{default:t(()=>[Pl]),_:1}),l(w,null,{default:t(()=>[l(j,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684\u7528\u6237\uFF0C\u8BF7\u8F93\u5165\u7528\u6237id","prepend-inner-icon":"fa-brands fa-bilibili","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=s=>e.search=s),onKeyup:a[5]||(a[5]=$(s=>c.searchRss("https://rsshub.app/bilibili/user/dynamic/"+e.search),["enter"]))},null,8,["modelValue"]),l(A,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"primary",rounded:"pill",onClick:a[6]||(a[6]=s=>c.searchRss("https://rsshub.app/bilibili/user/dynamic/"+e.search))},{default:t(()=>[u(p(i.st("searchBtn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),l(O,{value:"weiBoFollow"},{default:t(()=>[l(R,{class:"my-3"},{default:t(()=>[Al]),_:1}),l(k,null,{default:t(()=>[Dl]),_:1}),l(w,null,{default:t(()=>[l(j,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684@\u7528\u6237\u6216#\u5173\u952E\u8BCD","prepend-inner-icon":"fa-brands fa-weibo","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":a[7]||(a[7]=s=>e.search=s),onKeyup:a[8]||(a[8]=$(s=>c.searchRss("https://rsshub.app/weibo/"+(e.search.indexOf("#")==0?"keyword/":"user/")+e.search.substr(1,e.search.length)),["enter"]))},null,8,["modelValue"]),l(A,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"primary",rounded:"pill",onClick:a[9]||(a[9]=s=>c.searchRss("https://rsshub.app/weibo/"+(e.search.indexOf("#")==0?"keyword/":"user/")+e.search.substr(1,e.search.length)))},{default:t(()=>[u(p(i.st("searchBtn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),l(O,{value:"zhiHuFollow"},{default:t(()=>[l(R,{class:"my-3"},{default:t(()=>[Ol]),_:1}),l(k,null,{default:t(()=>[Ul]),_:1}),l(w,null,{default:t(()=>[l(j,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684@\u7528\u6237\u6216#\u8BDD\u9898","prepend-inner-icon":"fa-brands fa-zhihu","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":a[10]||(a[10]=s=>e.search=s),onKeyup:a[11]||(a[11]=$(s=>c.searchRss("https://rsshub.app/zhihu/"+(e.search.indexOf("#")==0?"topic/":"people/activities/")+e.search.substr(1,e.search.length)),["enter"]))},null,8,["modelValue"]),l(A,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"primary",rounded:"pill",onClick:a[12]||(a[12]=s=>c.searchRss("https://rsshub.app/zhihu/"+(e.search.indexOf("#")==0?"topic/":"people/activities/")+e.search.substr(1,e.search.length)))},{default:t(()=>[u(p(i.st("searchBtn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),l(O,{value:"fileFollow"},{default:t(()=>[l(R,{class:"my-3"},{default:t(()=>[u(p(i.st("opmlTitle")),1)]),_:1}),l(k,null,{default:t(()=>[u(p(i.st("opmlSubHtml")),1)]),_:1}),l(w,null,{default:t(()=>[l(Cl,{"prepend-icon":"far fa-file-lines",modelValue:e.files,"onUpdate:modelValue":a[13]||(a[13]=s=>e.files=s),label:i.st("opmlTitle"),style:{height:"56px"}},null,8,["modelValue","label"]),l(A,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"primary",rounded:"pill",onClick:c.importOpml},{default:t(()=>[u(p(i.st("importBtn")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(ee,{class:"mt-6"},{default:t(()=>[l(le,{"max-width":"1210",class:"mx-auto auto-size"},{default:t(()=>[l(k,{class:"mt-4"},{default:t(()=>[u(p(i.st("recommend")),1)]),_:1}),l(w,null,{default:t(()=>[l(kl,{modelValue:e.chanTypeCheck,"onUpdate:modelValue":a[15]||(a[15]=s=>e.chanTypeCheck=s),column:""},{default:t(()=>[(T(!0),K(S,null,de(e.data,s=>(T(),re(ye,{key:s.type,value:s.type,filter:"",outlined:""},{default:t(()=>[u(p(s.type),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.channels.length?(T(),K(S,{key:0},[l(cl),l(k,{class:"mt-4 mb-3"},{default:t(()=>[u(p(i.st("searchResult")),1)]),_:1}),l(w,null,{default:t(()=>[(T(!0),K(S,null,de(e.channels,s=>(T(),re(f,{key:s.id,id:s.id,onClick:c.openRead},null,8,["id","onClick"]))),128))]),_:1})],64)):fl("",!0)]),_:1})]),_:1}),l(pl,{location:"top",timeout:5e3,modelValue:e.showTip,"onUpdate:modelValue":a[16]||(a[16]=s=>e.showTip=s)},{default:t(()=>[u(p(e.tipMsg),1)]),_:1},8,["modelValue"]),l(y,{"model-value":e.item.id!=null},{default:t(()=>[l(g,{modelValue:e.item,"onUpdate:modelValue":a[17]||(a[17]=s=>e.item=s),"ctrl-style":"position:fixed"},null,8,["modelValue"])]),_:1},8,["model-value"])],64)}const Kl=tl(Il,[["render",El],["__scopeId","data-v-eb66dae1"]]);export{Kl as default};
