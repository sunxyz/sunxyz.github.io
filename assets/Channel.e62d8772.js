import{_ as F,m as T,g as B,a as L,b as M,d as N,r as h,o,e as c,h as a,w as e,V as r,F as m,i as f,j as S,k as p,n as g,p as s,t as n,q as j,s as u,u as _,v as w,x as C,c as k,y as V,z,A as I,B as y}from"./index.0ac0d763.js";import{V as x}from"./VChip.a05c4bab.js";const R={props:["id"],inject:["isToBottom"],data:()=>({channel:{},data:[],params:{page:0,size:20},isLast:!0,item:{},loading:!0,dialog:!1}),mounted(){this.initData()},methods:{...T(["follow","unFollow"]),toggleFollow(){let t=this.channel;this.isFollowed?this.unFollow(t):this.follow(t)},async initData(){this.params.page=0,this.channel=await B(this.id),this.data=await this.loadData()},async loadData(){this.loading=!0;let t=await L(this.id,this.params);return this.loading=!1,this.isLast=t.last,t.content},async loadMore(){this.params.page+=1,this.data=[...this.data,...await this.loadData()]},async openRead(t){this.item=await M(t),this.dialog=!0}},computed:{...N(["follows"]),followText(){return this.isFollowed?"\u5DF2\u8BA2\u9605":"\u8BA2\u9605"},isFollowed(){return this.follows.filter(t=>t.id==this.id).length>0}},watch:{id(t){this.data=[],this.loading=!0,this.initData()},"isToBottom.value"(t){t&&!this.isLast&&this.loadMore()}}},A={style:{"max-width":"1024px"},class:"mx-auto pb-3 pt-3"},H=s("\u6700\u8FD1\u66F4\u65B0 "),$=s(" \u52A0\u8F7D\u66F4\u591A "),q=["innerHTML"],E=["href"],O=s(" \u5173\u95ED ");function U(t,i,G,J,K,d){const b=h("entry-card"),v=h("entry-card-skeleton"),D=h("c-dialog");return o(),c(m,null,[a(r,{justify:"space-around"},{default:e(()=>[a(f,{width:"100%"},{default:e(()=>[a(S,{src:"https://images2.alphacoders.com/642/642540.png",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",cover:"",height:"200px"}),p("div",A,[a(g,null,{default:e(()=>[s(n(t.channel.name),1)]),_:1}),a(j,null,{default:e(()=>[a(x,{class:"mr-4"},{default:e(()=>[s(n(t.channel.type),1)]),_:1}),a(x,null,{default:e(()=>[s(n(t.channel.link),1)]),_:1})]),_:1}),a(u,null,{default:e(()=>[a(_,{color:"indigo",dark:"",textContent:n(d.followText),onClick:d.toggleFollow},null,8,["textContent","onClick"])]),_:1})])]),_:1})]),_:1}),a(r,null,{default:e(()=>[a(f,{"max-width":"1024",class:"mx-auto auto-size"},{default:e(()=>[a(g,{class:"mb-2"},{default:e(()=>[H]),_:1}),a(u,null,{default:e(()=>[a(r,{dense:""},{default:e(()=>[(o(!0),c(m,null,w(t.data,l=>(o(),k(y,{key:l.id,md:4,sm:6,xs:12},{default:e(()=>[a(b,{"img-src":l.thumbnail,title:l.title,"channel-name":l.channelName,"pub-date":l.pubDate,"channel-id":l.channelId,onClick:P=>d.openRead(l.id)},{default:e(()=>[a(u,{textContent:n(l.summary)},null,8,["textContent"])]),_:2},1032,["img-src","title","channel-name","pub-date","channel-id","onClick"])]),_:2},1024))),128)),t.loading?(o(),c(m,{key:0},w(20,l=>a(y,{key:l,md:4,sm:6,xs:12},{default:e(()=>[a(v)]),_:2},1024)),64)):C("",!0)]),_:1}),a(r,{class:"ma-3"},{default:e(()=>[t.isLast?C("",!0):(o(),k(_,{key:0,class:"mx-auto",onClick:d.loadMore},{default:e(()=>[$]),_:1},8,["onClick"]))]),_:1})]),_:1})]),_:1})]),_:1}),a(D,{modelValue:t.dialog,"onUpdate:modelValue":i[1]||(i[1]=l=>t.dialog=l)},{default:e(()=>[a(f,null,{default:e(()=>[a(g,{class:"text-h5 grey lighten-2 mx-auto"},{default:e(()=>[s(n(t.item.title),1)]),_:1}),a(V),a(u,null,{default:e(()=>[p("div",{class:"read-main mx-auto",innerHTML:t.item.description},null,8,q)]),_:1}),a(V),a(z,null,{default:e(()=>[p("a",{href:t.item.link,target:"_blank",class:"pl-3"},"\u67E5\u770B\u539F\u6587",8,E),a(I),a(_,{text:"",onClick:i[0]||(i[0]=l=>t.dialog=!1)},{default:e(()=>[O]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const X=F(R,[["render",U]]);export{X as default};
