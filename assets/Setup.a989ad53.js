import{y as re,$ as le,aK as de,aJ as Ce,aZ as Te,a_ as ze,aL as xe,r as _,Z as S,a$ as he,b0 as Re,O as Be,B as ce,d as l,b1 as me,ac as M,b2 as Ue,aR as Me,aQ as Fe,W as Ie,a7 as Oe,ag as Pe,T as Se,n as U,aa as Ae,ao as Le,I as Ee,ap as $e,a5 as He,a6 as x,aM as De,_ as Ge,az as Ne,b3 as We,b4 as Xe,b5 as Ye,aC as qe,aD as oe,o as $,c as K,w as s,i as ne,F as ie,b6 as je,b7 as Ke,ae as Z,af as J,v as z,f as X,l as R,k as B,aH as ue,b8 as be,aG as Ze,p as v,t as Q,b9 as Je,ba as Qe,j as pe}from"./index.f3e9c636.js";import{V as el}from"./VSnackbar.1fc98129.js";import{V as ee}from"./VTextField.879da1c5.js";import{a as ll,V as tl}from"./VChip.274ebaab.js";function ge(e){const u=Math.abs(e);return Math.sign(e)*(u/((1/.501-2)*(1-u)+1))}function ye(e){let{selectedElement:t,containerSize:u,contentSize:r,isRtl:h,currentScrollOffset:n,isHorizontal:c}=e;const o=c?t.clientWidth:t.clientHeight,d=c?t.offsetLeft:t.offsetTop,a=h?r-d-o:d;h&&(n=-n);const b=u+n,p=o+a,V=o*.4;return a<=n?n=Math.max(a-V,0):b<=p&&(n=Math.min(n-(b-p-V),r-u)),h?-n:n}function al(e){let{selectedElement:t,containerSize:u,contentSize:r,isRtl:h,isHorizontal:n}=e;const c=n?t.clientWidth:t.clientHeight,o=n?t.offsetLeft:t.offsetTop;if(h){const d=r-o-c/2-u/2;return-Math.min(r-u,Math.max(0,d))}else{const d=o+c/2-u/2;return Math.min(r-u,Math.max(0,d))}}const sl=Symbol.for("vuetify:v-slide-group"),ol=re({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:sl},nextIcon:{type:le,default:"$next"},prevIcon:{type:le,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...de(),...Ce({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:u}=t;const{isRtl:r}=Te(),{mobile:h}=ze(),n=xe(e,e.symbol),c=_(!1),o=_(0),d=_(0),a=_(0),b=S(()=>e.direction==="horizontal"),{resizeRef:p,contentRect:V}=he(),{resizeRef:m,contentRect:F}=he(),I=S(()=>n.selected.value.length?n.items.value.findIndex(i=>i.id===n.selected.value[0]):-1),H=S(()=>n.selected.value.length?n.items.value.findIndex(i=>i.id===n.selected.value[n.selected.value.length-1]):-1);if(Re){let i=-1;Be(()=>[n.selected.value,V.value,F.value,b.value],()=>{cancelAnimationFrame(i),i=requestAnimationFrame(()=>{if(V.value&&F.value){const f=b.value?"width":"height";d.value=V.value[f],a.value=F.value[f],c.value=d.value+1<a.value}if(I.value>=0&&m.value){const f=m.value.children[H.value];I.value===0||!c.value?o.value=0:e.centerActive?o.value=al({selectedElement:f,containerSize:d.value,contentSize:a.value,isRtl:r.value,isHorizontal:b.value}):c.value&&(o.value=ye({selectedElement:f,containerSize:d.value,contentSize:a.value,isRtl:r.value,currentScrollOffset:o.value,isHorizontal:b.value}))}})})}const O=_(!1);let w=0,k=0;function P(i){const f=b.value?"clientX":"clientY";k=o.value,w=i.touches[0][f],O.value=!0}function A(i){if(!c.value)return;const f=b.value?"clientX":"clientY";o.value=k+w-i.touches[0][f]}function q(i){const f=a.value-d.value;r.value?o.value>0||!c.value?o.value=0:o.value<=-f&&(o.value=-f):o.value<0||!c.value?o.value=0:o.value>=f&&(o.value=f),O.value=!1}function C(){p.value&&(p.value.scrollLeft=0)}const L=_(!1);function te(i){if(L.value=!0,!(!c.value||!m.value)){for(const f of i.composedPath())for(const y of m.value.children)if(y===f){o.value=ye({selectedElement:y,containerSize:d.value,contentSize:a.value,isRtl:r.value,currentScrollOffset:o.value,isHorizontal:b.value});return}}}function T(i){L.value=!1}function ae(i){var f;!L.value&&!(i.relatedTarget&&(f=m.value)!=null&&f.contains(i.relatedTarget))&&g()}function fe(i){!m.value||(i.key===(b.value?"ArrowRight":"ArrowDown")?g("next"):i.key===(b.value?"ArrowLeft":"ArrowUp")?g("prev"):i.key==="Home"?g("first"):i.key==="End"&&g("last"))}function g(i){if(!!m.value)if(i){if(i==="next"){var y;const E=(y=m.value.querySelector(":focus"))==null?void 0:y.nextElementSibling;E?E.focus():g("first")}else if(i==="prev"){var N;const E=(N=m.value.querySelector(":focus"))==null?void 0:N.previousElementSibling;E?E.focus():g("last")}else if(i==="first"){var W;(W=m.value.firstElementChild)==null||W.focus()}else if(i==="last"){var ve;(ve=m.value.lastElementChild)==null||ve.focus()}}else{var f;m.value.querySelector("[tabindex]"),(f=[...m.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(_e=>!_e.hasAttribute("disabled"))[0])==null||f.focus()}}function D(i){const f=r.value?-1:1,y=f*o.value+(i==="prev"?-1:1)*d.value;o.value=f*Ue(y,0,a.value-d.value)}const j=S(()=>{const i=o.value<=0?ge(-o.value):o.value>a.value-d.value?-(a.value-d.value)+ge(a.value-d.value-o.value):-o.value;return{transform:`translate${b.value?"X":"Y"}(${i}px)`,transition:O.value?"none":"",willChange:O.value?"transform":""}}),se=S(()=>({next:n.next,prev:n.prev,select:n.select,isSelected:n.isSelected})),G=S(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return c.value||Math.abs(o.value)>0;case"mobile":return h.value||c.value||Math.abs(o.value)>0;default:return!h.value&&(c.value||Math.abs(o.value)>0)}}),we=S(()=>G.value&&o.value>0),ke=S(()=>G.value?a.value>Math.abs(o.value)+d.value:!1);return ce(()=>{var i,f,y,N,W;return l(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!b.value,"v-slide-group--has-affixes":G.value,"v-slide-group--is-overflowing":c.value}],tabindex:L.value||n.selected.value.length?-1:0,onFocus:ae},{default:()=>[G.value&&l("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!we.value}],onClick:()=>D("prev")},[(i=(f=u.prev)==null?void 0:f.call(u,se.value))!=null?i:l(me,null,{default:()=>[l(M,{icon:e.prevIcon},null)]})]),l("div",{key:"container",ref:p,class:"v-slide-group__container",onScroll:C},[l("div",{ref:m,class:"v-slide-group__content",style:j.value,onTouchstartPassive:P,onTouchmovePassive:A,onTouchendPassive:q,onFocusin:te,onFocusout:T,onKeydown:fe},[(y=u.default)==null?void 0:y.call(u,se.value)])]),G.value&&l("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!ke.value}],onClick:()=>D("next")},[(N=(W=u.next)==null?void 0:W.call(u,se.value))!=null?N:l(me,null,{default:()=>[l(M,{icon:e.nextIcon},null)]})])]})}),{selected:n.selected,scrollTo:D,scrollOffset:o,focus:g}}});const Ve=Symbol.for("vuetify:v-tabs"),Y=re({name:"VTab",props:{fixed:Boolean,icon:[Boolean,String,Function,Object],prependIcon:le,appendIcon:le,stacked:Boolean,title:String,ripple:{type:Boolean,default:!0},color:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...de(),...Me(),...Fe({selectedClass:"v-tab--selected"}),...Ie()},setup(e,t){let{slots:u,attrs:r}=t;const{textColorClasses:h,textColorStyles:n}=Oe(e,"sliderColor"),c=S(()=>e.direction==="horizontal"),o=_(!1),d=_(),a=_();function b(p){let{value:V}=p;if(o.value=V,V){var m,F;const I=(m=d.value)==null||(F=m.$el.parentElement)==null?void 0:F.querySelector(".v-tab--selected .v-tab__slider"),H=a.value;if(!I||!H)return;const O=getComputedStyle(I).color,w=I.getBoundingClientRect(),k=H.getBoundingClientRect(),P=c.value?"x":"y",A=c.value?"X":"Y",q=c.value?"right":"bottom",C=c.value?"width":"height",L=w[P],te=k[P],T=L>te?w[q]-k[q]:w[P]-k[P],ae=Math.sign(T)>0?c.value?"right":"bottom":Math.sign(T)<0?c.value?"left":"top":"center",g=(Math.abs(T)+(Math.sign(T)<0?w[C]:k[C]))/Math.max(w[C],k[C]),D=w[C]/k[C],j=1.5;H.animate({backgroundColor:[O,""],transform:[`translate${A}(${T}px) scale${A}(${D})`,`translate${A}(${T/j}px) scale${A}(${(g-1)/j+1})`,""],transformOrigin:Array(3).fill(ae)},{duration:225,easing:Ae})}}return ce(()=>{const[p]=Pe(e,["href","to","replace","icon","stacked","prependIcon","appendIcon","ripple","theme","disabled","selectedClass","value","color"]);return l(U,Se({_as:"VTab",symbol:Ve,ref:d,class:["v-tab"],tabindex:o.value?0:-1,role:"tab","aria-selected":String(o.value),block:e.fixed,maxWidth:e.fixed?300:void 0,variant:"text",rounded:0},p,r,{"onGroup:selected":b}),{default:()=>[u.default?u.default():e.title,!e.hideSlider&&l("div",{ref:a,class:["v-tab__slider",h.value],style:n.value},null)]})}),{}}});function nl(e){return e?e.map(t=>typeof t=="string"?{title:t,value:t}:t):[]}const il=re({name:"VTabs",props:{alignWithTitle:Boolean,color:String,direction:{type:String,default:"horizontal"},fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,backgroundColor:String,centered:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,optional:Boolean,end:Boolean,sliderColor:String,modelValue:null,...Le(),...de()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:u}=t;const r=Ee(e,"modelValue"),h=S(()=>nl(e.items)),{densityClasses:n}=$e(e),{backgroundColorClasses:c,backgroundColorStyles:o}=He(x(e,"backgroundColor"));return De({VTab:{color:x(e,"color"),direction:x(e,"direction"),stacked:x(e,"stacked"),fixed:x(e,"fixedTabs"),sliderColor:x(e,"sliderColor"),hideSlider:x(e,"hideSlider")}}),ce(()=>l(ol,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,class:["v-tabs",`v-tabs--${e.direction}`,{"v-tabs--align-with-title":e.alignWithTitle,"v-tabs--centered":e.centered,"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--end":e.end,"v-tabs--stacked":e.stacked},n.value,c.value],style:o.value,role:"tablist",symbol:Ve,mandatory:"force",direction:e.direction},{default:()=>[u.default?u.default():h.value.map(d=>l(Y,Se(d,{key:d.title}),null))]})),{}}}),ul={data:()=>({tab:null,data:[],checks:"",showTip:!1,tipMsg:void 0,rssUrl:void 0,submitLoading:!1,channels:[],dialog:!1}),mounted(){this.initData()},methods:{...Ne(["follow"]),go(e){this.$router.push(e)},async initData(){let e=new Set;this.follows.forEach(r=>e.add(r.id));let t=(await We()).filter(r=>!e.has(r.id)),u={};for(let r of t){let h=u[r.type];h||(h=[],u[r.type]=h),h.push(r)}this.data=[];for(let r in u)this.data.push({type:r,items:u[r],checks:[]})},async followRss(e){if(e=e||this.rssUrl,this.rssUrl){this.submitLoading=!0;try{console.log(e);let t=await Xe({rssUrl:e});this.checks=void 0,setTimeout(()=>{this.channels=[{id:t}]},300),this.rssUrl=void 0}catch{this.showTip=!0,this.tipMsg="\u8BA2\u9605\u5931\u8D25"}this.submitLoading=!1}else this.showTip=!0,this.tipMsg="\u8BF7\u8F93\u5165rss\u5730\u5740\u8BA2\u9605"},async openRead(e){this.item=await Ye(e),this.item.id=e,this.dialog=!0}},computed:{...qe(["follows"])},watch:{checks(){let e=this.data.filter(t=>t.type==this.checks);this.channels=e.length?e[0].items:[]}}},rl=v("fas fa-arrow-left"),dl=v("\u6DFB\u52A0\u8BA2\u9605"),cl=v("fa-solid fa-rss"),fl=v("fa-brands fa-bilibili"),vl=v("fa-brands fa-weibo"),hl=v("fa-brands fa-zhihu"),ml=v("rss\u8BA2\u9605"),bl=v("\u53D1\u73B0\u66F4\u591A\u8BA2\u9605\u6E90 "),pl=z("a",{href:"https://docs.rsshub.app/",class:"mx-2"},"rsshub",-1),gl=z("a",{href:"https://rss-source.com/"},"rss-source",-1),yl=v(" \u641C\u7D22 "),Sl=v("\u8BD5\u8BD5\u8BA2\u9605\u4E0D\u540C\u7C7B\u578B\u7684\u5185\u5BB9\u5427"),Vl=v("\u5173\u6CE8\u54D4\u54E9\u54D4\u54E9\u7528\u6237"),wl=v("\u5C0F\u52A9\u624B\uFF1A\u70B9\u51FB\u7528\u6237\u5934\u50CF\u4F1A\u8BBF\u95EEhttp://space.bilibili.com/xxx?xvsfds \u5176\u4E2D\u7684xxx\u5C31\u662F\u7528\u6237id"),kl=v(" \u641C\u7D22 "),_l=v("\u5173\u6CE8\u5FAE\u535A"),Cl=v("\u5C0F\u52A9\u624B\uFF1A@\u52A0\u7528\u6237id\u662F\u5173\u6CE8\u7528\u6237#\u52A0\u5173\u952E\u8BCDid\u662F\u5173\u6CE8\u5173\u952E\u8BCD"),Tl=v(" \u641C\u7D22 "),zl=v("\u5173\u6CE8\u77E5\u4E4E"),xl=v("\u5C0F\u52A9\u624B\uFF1A@\u52A0\u7528\u6237id\u662F\u5173\u6CE8\u7528\u6237#\u52A0\u8BDD\u9898id\u662F\u5173\u6CE8\u8BDD\u9898"),Rl=v(" \u641C\u7D22 "),Bl={key:0},Ul=v("\u641C\u7D22\u7ED3\u679C"),Ml=["innerHTML"],Fl=["href"],Il=v(" \u5173\u95ED ");function Ol(e,t,u,r,h,n){const c=oe("v-tabs-slider"),o=oe("b-channel-light"),d=oe("c-dialog");return $(),K(ie,null,[l(ne,{flat:""},{default:s(()=>[l(je,{color:"indigo",extension:""},{extension:s(()=>[l(il,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=a=>e.tab=a),"fixed-tabs":""},{default:s(()=>[l(c),l(Y,{value:"rssFollow"},{default:s(()=>[l(M,{title:"rss\u5730\u5740\u8BA2\u9605"},{default:s(()=>[cl]),_:1})]),_:1}),l(Y,{value:"bilibiliFollow"},{default:s(()=>[l(M,{title:"\u5173\u6CE8\u54D4\u54E9\u54D4\u54E9\u7528\u6237\u52A8\u6001"},{default:s(()=>[fl]),_:1})]),_:1}),l(Y,{value:"weiboFollow"},{default:s(()=>[l(M,{title:"\u5173\u6CE8\u5FAE\u535A\u52A8\u6001"},{default:s(()=>[vl]),_:1})]),_:1}),l(Y,{value:"zhihuFollow"},{default:s(()=>[l(M,{title:"\u5173\u6CE8\u77E5\u4E4E\u52A8\u6001"},{default:s(()=>[hl]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:s(()=>[l(U,{icon:"",title:"\u8FD4\u56DE\u9996\u9875",onClick:t[0]||(t[0]=a=>n.go("/"))},{default:s(()=>[l(M,null,{default:s(()=>[rl]),_:1})]),_:1}),l(Ke,null,{default:s(()=>[dl]),_:1})]),_:1}),l(ne,{"max-width":"860",class:"mx-auto",flat:""},{default:s(()=>[Z(z("div",null,[l(X,{class:"my-3"},{default:s(()=>[ml]),_:1}),l(R,null,{default:s(()=>[bl,pl,gl]),_:1}),l(B,null,{default:s(()=>[l(ee,{flat:"","hide-details":"",label:"\u8BF7\u8F93\u5165rss\u5730\u5740\u8BA2\u9605","prepend-inner-icon":"fa-solid fa-rss","solo-inverted":"",modelValue:e.rssUrl,"onUpdate:modelValue":t[2]||(t[2]=a=>e.rssUrl=a)},null,8,["modelValue"]),l(U,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:t[3]||(t[3]=a=>n.followRss(e.rssUrl))},{default:s(()=>[yl]),_:1},8,["loading","disabled"])]),_:1}),l(ue,{class:"mb-4"}),l(R,null,{default:s(()=>[Sl]),_:1}),l(B,null,{default:s(()=>[l(ll,{modelValue:e.checks,"onUpdate:modelValue":t[4]||(t[4]=a=>e.checks=a),column:""},{default:s(()=>[($(!0),K(ie,null,be(e.data,a=>($(),pe(tl,{key:a.type,value:a.type,filter:"",outlined:""},{default:s(()=>[v(Q(a.type),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})],512),[[J,e.tab=="rssFollow"]]),Z(z("div",null,[l(X,{class:"my-3"},{default:s(()=>[Vl]),_:1}),l(R,null,{default:s(()=>[wl]),_:1}),l(B,null,{default:s(()=>[l(ee,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684\u7528\u6237\uFF0C\u8BF7\u8F93\u5165\u7528\u6237id","prepend-inner-icon":"fa-brands fa-bilibili","solo-inverted":"",modelValue:e.rssUrl,"onUpdate:modelValue":t[5]||(t[5]=a=>e.rssUrl=a)},null,8,["modelValue"]),l(U,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:t[6]||(t[6]=a=>n.followRss("https://rsshub.app/bilibili/user/dynamic/"+e.rssUrl))},{default:s(()=>[kl]),_:1},8,["loading","disabled"])]),_:1})],512),[[J,e.tab=="bilibiliFollow"]]),Z(z("div",null,[l(X,{class:"my-3"},{default:s(()=>[_l]),_:1}),l(R,null,{default:s(()=>[Cl]),_:1}),l(B,null,{default:s(()=>[l(ee,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684@\u7528\u6237\u6216#\u5173\u952E\u8BCD","prepend-inner-icon":"fa-brands fa-weibo","solo-inverted":"",modelValue:e.rssUrl,"onUpdate:modelValue":t[7]||(t[7]=a=>e.rssUrl=a)},null,8,["modelValue"]),l(U,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:t[8]||(t[8]=a=>n.followRss("https://rsshub.app/weibo/"+(e.rssUrl.indexOf("#")==0?"keyword/":"user/")+e.rssUrl.substr(1,e.rssUrl.length)))},{default:s(()=>[Tl]),_:1},8,["loading","disabled"])]),_:1})],512),[[J,e.tab=="weiboFollow"]]),Z(z("div",null,[l(X,{class:"my-3"},{default:s(()=>[zl]),_:1}),l(R,null,{default:s(()=>[xl]),_:1}),l(B,null,{default:s(()=>[l(ee,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684@\u7528\u6237\u6216#\u8BDD\u9898","prepend-inner-icon":"fa-brands fa-zhihu","solo-inverted":"",modelValue:e.rssUrl,"onUpdate:modelValue":t[9]||(t[9]=a=>e.rssUrl=a)},null,8,["modelValue"]),l(U,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:t[10]||(t[10]=a=>n.followRss("https://rsshub.app/zhihu/"+(e.rssUrl.indexOf("#")==0?"topic/":"people/activities/")+e.rssUrl.substr(1,e.rssUrl.length)))},{default:s(()=>[Rl]),_:1},8,["loading","disabled"])]),_:1})],512),[[J,e.tab=="zhihuFollow"]]),e.channels.length?($(),K("div",Bl,[l(ue,{class:"mb-4"}),l(R,{class:"mb-2"},{default:s(()=>[Ul]),_:1}),l(B,null,{default:s(()=>[($(!0),K(ie,null,be(e.channels,a=>($(),pe(o,{key:a.id,id:a.id,onClick:n.openRead},null,8,["id","onClick"]))),128))]),_:1})])):Ze("",!0)]),_:1})]),_:1}),l(el,{location:"top",timeout:2e3,modelValue:e.showTip,"onUpdate:modelValue":t[11]||(t[11]=a=>e.showTip=a)},{default:s(()=>[v(Q(e.tipMsg),1)]),_:1},8,["modelValue"]),l(d,{modelValue:e.dialog,"onUpdate:modelValue":t[13]||(t[13]=a=>e.dialog=a)},{default:s(()=>[l(ne,null,{default:s(()=>[l(B,null,{default:s(()=>[l(X,{class:"text-h5"},{default:s(()=>[v(Q(e.item.title),1)]),_:1}),l(R,null,{default:s(()=>[v(Q(e.item.channelName),1)]),_:1}),z("p",{class:"read-main mx-auto mt-3",innerHTML:e.item.description},null,8,Ml)]),_:1}),l(ue),l(Je,null,{default:s(()=>[z("a",{href:e.item.link,target:"_blank",class:"pl-3"},"\u67E5\u770B\u539F\u6587",8,Fl),l(Qe),l(U,{text:"",onClick:t[12]||(t[12]=a=>e.dialog=!1)},{default:s(()=>[Il]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const $l=Ge(ul,[["render",Ol]]);export{$l as default};
