import{_ as M,m as B,an as D,ao as K,aa as N,b as O,r as C,o as f,c as g,d as s,w as a,e as T,ad as q,F as L,bc as I,a8 as b,p,bd as A,a3 as V,a9 as y,i as n,j as c,q as u,s as h,aq as w,y as F,ar as R,n as E,v as i,t as v,as as H,at as j,k as U}from"./index.f457be90.js";import{V as G,a as k}from"./VTabs.40306301.js";import{e as _}from"./VTextField.75d89ed8.js";import{a as J,V as P}from"./VChip.8e45a984.js";const Q={data:()=>({tab:null,data:[],chanTypeCheck:"",showTip:!1,tipMsg:void 0,search:void 0,submitLoading:!1,channels:[],dialog:!1}),async mounted(){await this.initData(),this.$route.query.chanType&&(this.chanTypeCheck=this.$route.query.chanType)},methods:{...B(["follow"]),go(e){this.$router.push(e)},async initData(){let e=new Set;this.follows.forEach(o=>e.add(o.id));let l=(await D()).filter(o=>!e.has(o.id)),r={};for(let o of l){let m=r[o.type];m||(m=[],r[o.type]=m),m.push(o)}this.data=[];for(let o in r)this.data.push({type:o,items:r[o]})},async searchRss(e){if(e=e||this.search,this.search){this.submitLoading=!0;try{console.log(e);let l=await K({search:e});this.chanTypeCheck=void 0,setTimeout(()=>{this.channels=l.map(r=>({id:r}))},300)}catch(l){this.showTip=!0,this.tipMsg=l.response.data.message}this.submitLoading=!1}else this.showTip=!0,this.tipMsg="\u8BF7\u8F93\u5165rss\u5730\u5740\u8BA2\u9605"},async openRead(e){this.item=await N(e),this.item.id=e,this.dialog=!0}},computed:{...O(["follows"])},watch:{chanTypeCheck(){let e=this.data.filter(l=>l.type==this.chanTypeCheck);this.channels=e.length?e[0].items:[]}}},W=i("fas fa-arrow-left"),X=i("\u6DFB\u52A0\u8BA2\u9605"),Y=i("fa-solid fa-rss"),Z=i("fa-brands fa-bilibili"),x=i("fa-brands fa-weibo"),ee=i("fa-brands fa-zhihu"),se=i("rss\u8BA2\u9605"),ae=i("\u53D1\u73B0\u66F4\u591A\u8BA2\u9605\u6E90 "),le=n("a",{href:"https://docs.rsshub.app/",class:"mx-2"},"rsshub",-1),te=n("a",{href:"https://rss-source.com/"},"rss-source",-1),ie=i(" \u641C\u7D22 "),oe=i("\u8BD5\u8BD5\u8BA2\u9605\u4E0D\u540C\u7C7B\u578B\u7684\u5185\u5BB9\u5427"),de=i("\u5173\u6CE8\u54D4\u54E9\u54D4\u54E9\u7528\u6237"),ne=i("\u5C0F\u52A9\u624B\uFF1A\u70B9\u51FB\u7528\u6237\u5934\u50CF\u4F1A\u8BBF\u95EEhttp://space.bilibili.com/xxx?xvsfds \u5176\u4E2D\u7684xxx\u5C31\u662F\u7528\u6237id"),re=i(" \u641C\u7D22 "),ue=i("\u5173\u6CE8\u5FAE\u535A"),he=i("\u5C0F\u52A9\u624B\uFF1A@\u52A0\u7528\u6237id\u662F\u5173\u6CE8\u7528\u6237#\u52A0\u5173\u952E\u8BCDid\u662F\u5173\u6CE8\u5173\u952E\u8BCD"),fe=i(" \u641C\u7D22 "),pe=i("\u5173\u6CE8\u77E5\u4E4E"),me=i("\u5C0F\u52A9\u624B\uFF1A@\u52A0\u7528\u6237id\u662F\u5173\u6CE8\u7528\u6237#\u52A0\u8BDD\u9898id\u662F\u5173\u6CE8\u8BDD\u9898"),be=i(" \u641C\u7D22 "),ce={key:0},ge=i("\u641C\u7D22\u7ED3\u679C"),Ve=["innerHTML"],ye=["href"],we=i(" \u5173\u95ED ");function ve(e,l,r,o,m,d){const S=C("v-tabs-slider"),$=C("b-channel-light"),z=C("c-dialog");return f(),g(L,null,[s(T,{flat:"","min-height":"100vh"},{default:a(()=>[s(I,{color:"indigo",extension:""},{extension:a(()=>[s(G,{modelValue:e.tab,"onUpdate:modelValue":l[1]||(l[1]=t=>e.tab=t),"fixed-tabs":""},{default:a(()=>[s(S),s(k,{value:"rssFollow"},{default:a(()=>[s(b,{title:"rss\u5730\u5740\u8BA2\u9605"},{default:a(()=>[Y]),_:1})]),_:1}),s(k,{value:"bilibiliFollow"},{default:a(()=>[s(b,{title:"\u5173\u6CE8\u54D4\u54E9\u54D4\u54E9\u7528\u6237\u52A8\u6001"},{default:a(()=>[Z]),_:1})]),_:1}),s(k,{value:"weiboFollow"},{default:a(()=>[s(b,{title:"\u5173\u6CE8\u5FAE\u535A\u52A8\u6001"},{default:a(()=>[x]),_:1})]),_:1}),s(k,{value:"zhihuFollow"},{default:a(()=>[s(b,{title:"\u5173\u6CE8\u77E5\u4E4E\u52A8\u6001"},{default:a(()=>[ee]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:a(()=>[s(p,{icon:"",title:"\u8FD4\u56DE\u9996\u9875",onClick:l[0]||(l[0]=t=>d.go("/"))},{default:a(()=>[s(b,null,{default:a(()=>[W]),_:1})]),_:1}),s(A,null,{default:a(()=>[X]),_:1})]),_:1}),s(T,{"max-width":"860",class:"mx-auto",flat:""},{default:a(()=>[V(n("div",null,[s(c,{class:"my-3"},{default:a(()=>[se]),_:1}),s(u,null,{default:a(()=>[ae,le,te]),_:1}),s(h,null,{default:a(()=>[s(_,{flat:"","hide-details":"",label:"\u8BF7\u8F93\u5165rss\u5730\u5740\u8BA2\u9605","prepend-inner-icon":"fa-solid fa-rss","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":l[2]||(l[2]=t=>e.search=t),onKeyup:l[3]||(l[3]=w(t=>d.searchRss(e.search),["enter"]))},null,8,["modelValue"]),s(p,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:l[4]||(l[4]=t=>d.searchRss(e.search))},{default:a(()=>[ie]),_:1},8,["loading","disabled"])]),_:1}),s(F,{class:"mb-4"}),s(u,null,{default:a(()=>[oe]),_:1}),s(h,null,{default:a(()=>[s(J,{modelValue:e.chanTypeCheck,"onUpdate:modelValue":l[5]||(l[5]=t=>e.chanTypeCheck=t),column:""},{default:a(()=>[(f(!0),g(L,null,R(e.data,t=>(f(),U(P,{key:t.type,value:t.type,filter:"",outlined:""},{default:a(()=>[i(v(t.type),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})],512),[[y,e.tab=="rssFollow"]]),V(n("div",null,[s(c,{class:"my-3"},{default:a(()=>[de]),_:1}),s(u,null,{default:a(()=>[ne]),_:1}),s(h,null,{default:a(()=>[s(_,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684\u7528\u6237\uFF0C\u8BF7\u8F93\u5165\u7528\u6237id","prepend-inner-icon":"fa-brands fa-bilibili","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":l[6]||(l[6]=t=>e.search=t),onKeyup:l[7]||(l[7]=w(t=>d.searchRss("https://rsshub.app/bilibili/user/dynamic/"+e.search),["enter"]))},null,8,["modelValue"]),s(p,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:l[8]||(l[8]=t=>d.searchRss("https://rsshub.app/bilibili/user/dynamic/"+e.search))},{default:a(()=>[re]),_:1},8,["loading","disabled"])]),_:1})],512),[[y,e.tab=="bilibiliFollow"]]),V(n("div",null,[s(c,{class:"my-3"},{default:a(()=>[ue]),_:1}),s(u,null,{default:a(()=>[he]),_:1}),s(h,null,{default:a(()=>[s(_,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684@\u7528\u6237\u6216#\u5173\u952E\u8BCD","prepend-inner-icon":"fa-brands fa-weibo","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":l[9]||(l[9]=t=>e.search=t),onKeyup:l[10]||(l[10]=w(t=>d.searchRss("https://rsshub.app/weibo/"+(e.search.indexOf("#")==0?"keyword/":"user/")+e.search.substr(1,e.search.length)),["enter"]))},null,8,["modelValue"]),s(p,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:l[11]||(l[11]=t=>d.searchRss("https://rsshub.app/weibo/"+(e.search.indexOf("#")==0?"keyword/":"user/")+e.search.substr(1,e.search.length)))},{default:a(()=>[fe]),_:1},8,["loading","disabled"])]),_:1})],512),[[y,e.tab=="weiboFollow"]]),V(n("div",null,[s(c,{class:"my-3"},{default:a(()=>[pe]),_:1}),s(u,null,{default:a(()=>[me]),_:1}),s(h,null,{default:a(()=>[s(_,{flat:"","hide-details":"",label:"\u5173\u6CE8\u60A8\u6700\u559C\u7231\u7684@\u7528\u6237\u6216#\u8BDD\u9898","prepend-inner-icon":"fa-brands fa-zhihu","solo-inverted":"",clearable:!0,modelValue:e.search,"onUpdate:modelValue":l[12]||(l[12]=t=>e.search=t),onKeyup:l[13]||(l[13]=w(t=>d.searchRss("https://rsshub.app/zhihu/"+(e.search.indexOf("#")==0?"topic/":"people/activities/")+e.search.substr(1,e.search.length)),["enter"]))},null,8,["modelValue"]),s(p,{class:"mt-4",block:"",loading:e.submitLoading,disabled:e.submitLoading,color:"indigo",rounded:"pill",onClick:l[14]||(l[14]=t=>d.searchRss("https://rsshub.app/zhihu/"+(e.search.indexOf("#")==0?"topic/":"people/activities/")+e.search.substr(1,e.search.length)))},{default:a(()=>[be]),_:1},8,["loading","disabled"])]),_:1})],512),[[y,e.tab=="zhihuFollow"]]),e.channels.length?(f(),g("div",ce,[s(F,{class:"mb-4"}),s(u,{class:"mb-2"},{default:a(()=>[ge]),_:1}),s(h,null,{default:a(()=>[(f(!0),g(L,null,R(e.channels,t=>(f(),U($,{key:t.id,id:t.id,onClick:d.openRead},null,8,["id","onClick"]))),128))]),_:1})])):E("",!0)]),_:1})]),_:1}),s(q,{location:"top",timeout:2e3,modelValue:e.showTip,"onUpdate:modelValue":l[15]||(l[15]=t=>e.showTip=t)},{default:a(()=>[i(v(e.tipMsg),1)]),_:1},8,["modelValue"]),s(z,{modelValue:e.dialog,"onUpdate:modelValue":l[17]||(l[17]=t=>e.dialog=t)},{default:a(()=>[s(T,{class:"read-main"},{default:a(()=>[s(h,null,{default:a(()=>[s(c,{class:"text-h5 px-0",title:e.item.title},{default:a(()=>[i(v(e.item.title),1)]),_:1},8,["title"]),s(u,{class:"px-0 mb-3"},{default:a(()=>[i(v(e.item.channelName),1)]),_:1}),n("div",{class:"read-warp mx-auto",innerHTML:e.item.description},null,8,Ve)]),_:1}),s(F),s(H,null,{default:a(()=>[n("a",{href:e.item.link,target:"_blank",class:"pl-3"},"\u67E5\u770B\u539F\u6587",8,ye),s(j),s(p,{text:"",onClick:l[16]||(l[16]=t=>e.dialog=!1)},{default:a(()=>[we]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const Le=M(Q,[["render",ve]]);export{Le as default};
