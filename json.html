<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON在线格式化</title>
    <meta name="keywords" content="JSON,在线JSON,JSON 校验,格式化,JSON在线压缩,在线工具,在线json格式化工具,json 格式化,json格式化工具,json字符串格式化,json 在线查看器,json在线,json 在线验证,json tools online,json2pojo" />
    <meta name="description" content="JSON,JSON 在线JSON,JSON 校验,格式化,JSON在线压缩,在线工具,在线json格式化工具,json 格式化,json格式化工具,json字符串格式化,json 在线查看器,json在线,json 在线验证,json tools online,json2pojo" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <script>
        !function (e, t) {
            "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define("vue-json-view", [], t) : "object" == typeof exports ? exports["vue-json-view"] = t() : e["vue-json-view"] = t()
        }("undefined" != typeof self ? self : this, function () {
            return function (e) {
                function t(o) {
                    if (n[o]) return n[o].exports;
                    var i = n[o] = {i: o, l: !1, exports: {}};
                    return e[o].call(i.exports, i, i.exports, t), i.l = !0, i.exports
                }

                var n = {};
                return t.m = e, t.c = n, t.d = function (e, n, o) {
                    t.o(e, n) || Object.defineProperty(e, n, {configurable: !1, enumerable: !0, get: o})
                }, t.n = function (e) {
                    var n = e && e.__esModule ? function () {
                        return e.default
                    } : function () {
                        return e
                    };
                    return t.d(n, "a", n), n
                }, t.o = function (e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }, t.p = "/build/", t(t.s = 1)
            }([function (e, t, n) {
                "use strict";
                var o = n(9);
                t.a = o.a
            }, function (e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {value: !0});
                var o = n(2);
                t.default = o.a
            }, function (e, t, n) {
                "use strict";

                function o(e) {
                    n(3)
                }

                var i = n(0), r = n(10), s = n(8), a = o, l = s(i.a, r.a, !1, a, "data-v-613ef595", null);
                t.a = l.exports
            }, function (e, t, n) {
                var o = n(4);
                "string" == typeof o && (o = [[e.i, o, ""]]), o.locals && (e.exports = o.locals);
                n(6)("3277a7a2", o, !0, {})
            }, function (e, t, n) {
                t = e.exports = n(5)(!1), t.push([e.i, ".json-view-container[data-v-613ef595]{background-color:#fff}.json-view-container.deep-1[data-v-613ef595]{padding-right:10px}.json-view-container .json-view[data-v-613ef595]{position:relative;display:block;width:100%;height:100%;white-space:nowrap;padding-left:2rem;box-sizing:border-box;font-family:Consolas!important;cursor:default}.json-view-container .json-view .json-note[data-v-613ef595]{color:#909399;font-size:12px;font-style:italic}.json-view-container .json-view .json-key[data-v-613ef595]{color:#8c6325}.json-view-container .json-view .json-value[data-v-613ef595]{display:inline-block;color:#57b73b;word-break:break-all;white-space:normal}.json-view-container .json-view .json-value.number[data-v-613ef595]{color:#2d8cf0}.json-view-container .json-view .json-value.string[data-v-613ef595]{color:#57b73b}.json-view-container .json-view .json-value.boolean[data-v-613ef595],.json-view-container .json-view .json-value.null[data-v-613ef595]{color:#eb3324}.json-view-container .json-view .json-item[data-v-613ef595]{margin:0;padding-left:2rem;display:flex}.json-view-container .json-view .first-line[data-v-613ef595]{padding:0;margin:0}.json-view-container .json-view .first-line.pointer[data-v-613ef595]{cursor:pointer!important}.json-view-container .json-view .json-body[data-v-613ef595]{position:relative;padding:0;margin:0}.json-view-container .json-view .json-body .base-line[data-v-613ef595]{position:absolute;height:100%;border-left:1px dashed #bbb;top:0;left:2px}.json-view-container .json-view .last-line[data-v-613ef595]{padding:0;margin:0}.json-view-container .json-view .angle[data-v-613ef595]{position:absolute;display:block;cursor:pointer;float:left;width:20px;text-align:center;left:12px}.json-view-container.one-dark[data-v-613ef595]{background-color:#292c33}.json-view-container.one-dark .json-view[data-v-613ef595]{font-family:Menlo,Consolas,Courier New,Courier,FreeMono,monospace!important}.json-view-container.one-dark .json-view .json-note[data-v-613ef595]{color:#909399;font-size:12px;font-style:italic}.json-view-container.one-dark .json-view .json-key[data-v-613ef595]{color:#d27277}.json-view-container.one-dark .json-view .json-value[data-v-613ef595]{color:#c6937c}.json-view-container.one-dark .json-view .json-value.number[data-v-613ef595]{color:#bacdab}.json-view-container.one-dark .json-view .json-value.string[data-v-613ef595]{color:#c6937c}.json-view-container.one-dark .json-view .json-value.boolean[data-v-613ef595],.json-view-container.one-dark .json-view .json-value.null[data-v-613ef595]{color:#659bd1}.json-view-container.one-dark .json-view .first-line[data-v-613ef595]{color:#acb2be}.json-view-container.one-dark .json-view .json-body .base-line[data-v-613ef595]{border-left:1px solid #3c4047}.json-view-container.one-dark .json-view .json-item[data-v-613ef595],.json-view-container.one-dark .json-view .last-line[data-v-613ef595]{color:#acb2be}.json-view-container.vs-code[data-v-613ef595]{background-color:#1e1e1e}.json-view-container.vs-code .json-view[data-v-613ef595]{font-family:Menlo,Consolas,Courier New,Courier,FreeMono,monospace!important}.json-view-container.vs-code .json-view .json-note[data-v-613ef595]{color:#909399;font-size:12px;font-style:italic}.json-view-container.vs-code .json-view .json-key[data-v-613ef595]{color:#a9dbfb}.json-view-container.vs-code .json-view .json-value[data-v-613ef595]{color:#c6937c}.json-view-container.vs-code .json-view .first-line[data-v-613ef595]{color:#d4d4d4}.json-view-container.vs-code .json-view .json-body .base-line[data-v-613ef595]{border-left:1px solid #404040}.json-view-container.vs-code .json-view .json-item[data-v-613ef595],.json-view-container.vs-code .json-view .last-line[data-v-613ef595]{color:#d4d4d4}", ""])
            }, function (e, t) {
                function n(e, t) {
                    var n = e[1] || "", i = e[3];
                    if (!i) return n;
                    if (t && "function" == typeof btoa) {
                        var r = o(i);
                        return [n].concat(i.sources.map(function (e) {
                            return "/*# sourceURL=" + i.sourceRoot + e + " */"
                        })).concat([r]).join("\n")
                    }
                    return [n].join("\n")
                }

                function o(e) {
                    return "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(e)))) + " */"
                }

                e.exports = function (e) {
                    var t = [];
                    return t.toString = function () {
                        return this.map(function (t) {
                            var o = n(t, e);
                            return t[2] ? "@media " + t[2] + "{" + o + "}" : o
                        }).join("")
                    }, t.i = function (e, n) {
                        "string" == typeof e && (e = [[null, e, ""]]);
                        for (var o = {}, i = 0; i < this.length; i++) {
                            var r = this[i][0];
                            "number" == typeof r && (o[r] = !0)
                        }
                        for (i = 0; i < e.length; i++) {
                            var s = e[i];
                            "number" == typeof s[0] && o[s[0]] || (n && !s[2] ? s[2] = n : n && (s[2] = "(" + s[2] + ") and (" + n + ")"), t.push(s))
                        }
                    }, t
                }
            }, function (e, t, n) {
                function o(e) {
                    for (var t = 0; t < e.length; t++) {
                        var n = e[t], o = d[n.id];
                        if (o) {
                            o.refs++;
                            for (var i = 0; i < o.parts.length; i++) o.parts[i](n.parts[i]);
                            for (; i < n.parts.length; i++) o.parts.push(r(n.parts[i]));
                            o.parts.length > n.parts.length && (o.parts.length = n.parts.length)
                        } else {
                            for (var s = [], i = 0; i < n.parts.length; i++) s.push(r(n.parts[i]));
                            d[n.id] = {id: n.id, refs: 1, parts: s}
                        }
                    }
                }

                function i() {
                    var e = document.createElement("style");
                    return e.type = "text/css", v.appendChild(e), e
                }

                function r(e) {
                    var t, n, o = document.querySelector("style[" + g + '~="' + e.id + '"]');
                    if (o) {
                        if (p) return h;
                        o.parentNode.removeChild(o)
                    }
                    if (m) {
                        var r = f++;
                        o = u || (u = i()), t = s.bind(null, o, r, !1), n = s.bind(null, o, r, !0)
                    } else o = i(), t = a.bind(null, o), n = function () {
                        o.parentNode.removeChild(o)
                    };
                    return t(e), function (o) {
                        if (o) {
                            if (o.css === e.css && o.media === e.media && o.sourceMap === e.sourceMap) return;
                            t(e = o)
                        } else n()
                    }
                }

                function s(e, t, n, o) {
                    var i = n ? "" : o.css;
                    if (e.styleSheet) e.styleSheet.cssText = y(t, i); else {
                        var r = document.createTextNode(i), s = e.childNodes;
                        s[t] && e.removeChild(s[t]), s.length ? e.insertBefore(r, s[t]) : e.appendChild(r)
                    }
                }

                function a(e, t) {
                    var n = t.css, o = t.media, i = t.sourceMap;
                    if (o && e.setAttribute("media", o), j.ssrId && e.setAttribute(g, t.id), i && (n += "\n/*# sourceURL=" + i.sources[0] + " */", n += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(i)))) + " */"), e.styleSheet) e.styleSheet.cssText = n; else {
                        for (; e.firstChild;) e.removeChild(e.firstChild);
                        e.appendChild(document.createTextNode(n))
                    }
                }

                var l = "undefined" != typeof document;
                if ("undefined" != typeof DEBUG && DEBUG && !l) throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");
                var c = n(7), d = {}, v = l && (document.head || document.getElementsByTagName("head")[0]), u = null,
                    f = 0, p = !1, h = function () {
                    }, j = null, g = "data-vue-ssr-id",
                    m = "undefined" != typeof navigator && /msie [6-9]\b/.test(navigator.userAgent.toLowerCase());
                e.exports = function (e, t, n, i) {
                    p = n, j = i || {};
                    var r = c(e, t);
                    return o(r), function (t) {
                        for (var n = [], i = 0; i < r.length; i++) {
                            var s = r[i], a = d[s.id];
                            a.refs--, n.push(a)
                        }
                        t ? (r = c(e, t), o(r)) : r = [];
                        for (var i = 0; i < n.length; i++) {
                            var a = n[i];
                            if (0 === a.refs) {
                                for (var l = 0; l < a.parts.length; l++) a.parts[l]();
                                delete d[a.id]
                            }
                        }
                    }
                };
                var y = function () {
                    var e = [];
                    return function (t, n) {
                        return e[t] = n, e.filter(Boolean).join("\n")
                    }
                }()
            }, function (e, t) {
                e.exports = function (e, t) {
                    for (var n = [], o = {}, i = 0; i < t.length; i++) {
                        var r = t[i], s = r[0], a = r[1], l = r[2], c = r[3],
                            d = {id: e + ":" + i, css: a, media: l, sourceMap: c};
                        o[s] ? o[s].parts.push(d) : n.push(o[s] = {id: s, parts: [d]})
                    }
                    return n
                }
            }, function (e, t) {
                e.exports = function (e, t, n, o, i, r) {
                    var s, a = e = e || {}, l = typeof e.default;
                    "object" !== l && "function" !== l || (s = e, a = e.default);
                    var c = "function" == typeof a ? a.options : a;
                    t && (c.render = t.render, c.staticRenderFns = t.staticRenderFns, c._compiled = !0), n && (c.functional = !0), i && (c._scopeId = i);
                    var d;
                    if (r ? (d = function (e) {
                        e = e || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext, e || "undefined" == typeof __VUE_SSR_CONTEXT__ || (e = __VUE_SSR_CONTEXT__), o && o.call(this, e), e && e._registeredComponents && e._registeredComponents.add(r)
                    }, c._ssrRegister = d) : o && (d = o), d) {
                        var v = c.functional, u = v ? c.render : c.beforeCreate;
                        v ? (c._injectStyles = d, c.render = function (e, t) {
                            return d.call(t), u(e, t)
                        }) : c.beforeCreate = u ? [].concat(u, d) : [d]
                    }
                    return {esModule: s, exports: a, options: c}
                }
            }, function (e, t, n) {
                "use strict";
                t.a = {
                    name: "jsonView",
                    props: {
                        data: {type: [Object, Array], required: !0},
                        jsonKey: {type: String, default: ""},
                        closed: {type: Boolean, default: !1},
                        isLast: {type: Boolean, default: !0},
                        fontSize: {type: Number, default: 14},
                        lineHeight: {type: Number, default: 24},
                        deep: {type: Number, default: 3},
                        currentDeep: {type: Number, default: 1},
                        iconStyle: {type: String, default: "square"},
                        iconColor: {
                            type: Array, default: function () {
                                return []
                            }
                        },
                        theme: {type: String, default: ""},
                        hasSiblings: {type: Boolean, default: !0}
                    },
                    data: function () {
                        return {innerclosed: this.closed, templateDeep: this.currentDeep, visible: !1}
                    },
                    computed: {
                        isArray: function () {
                            return "array" === this.getDataType(this.data)
                        }, length: function () {
                            return this.isArray ? this.data.length : Object.keys(this.data).length
                        }, subfix: function () {
                            var e = this.data;
                            return this.isEmptyArrayOrObject(e) ? "" : (this.isArray ? "]" : "}") + (this.isLast ? "" : ",")
                        }, prefix: function () {
                            return this.isArray ? "[" : "{"
                        }, items: function () {
                            var e = this, t = this.data;
                            return this.isArray ? t.map(function (t) {
                                return {value: t, isJSON: e.isObjectOrArray(t), key: ""}
                            }) : Object.keys(t).map(function (n) {
                                var o = t[n];
                                return {value: o, isJSON: e.isObjectOrArray(o), key: n}
                            })
                        }, iconColors: function () {
                            var e = this.theme, t = this.iconColor;
                            return 2 === t.length ? t : "one-dark" === e ? ["#747983", "#747983"] : "vs-code" === e ? ["#c6c6c6", "#c6c6c6"] : ["#747983", "#747983"]
                        }
                    },
                    mounted: function () {
                        var e = this;
                        setTimeout(function () {
                            e.visible = !0
                        }, 0)
                    },
                    methods: {
                        formatValue: function (e) {
                            return console.log("current data:", e), e && e._isBigNumber ? e.toString(10) : e
                        }, getDataType: function (e) {
                            return e && e._isBigNumber ? "number" : Object.prototype.toString.call(e).slice(8, -1).toLowerCase()
                        }, isObjectOrArray: function (e) {
                            return ["array", "object"].includes(this.getDataType(e))
                        }, toggleClose: function () {
                            0 !== this.length && (this.innerclosed ? this.innerclosed = !1 : this.innerclosed = !0)
                        }, isClose: function () {
                            return this.templateDeep + 1 > this.deep
                        }, isEmptyArrayOrObject: function (e) {
                            return [{}, []].map(function (e) {
                                return JSON.stringify(e)
                            }).includes(JSON.stringify(e))
                        }
                    },
                    watch: {
                        closed: function () {
                            this.innerclosed = this.closed
                        }
                    }
                }
            }, function (e, t, n) {
                "use strict";
                var o = function () {
                    var e = this, t = e.$createElement, n = e._self._c || t;
                    return e.visible ? n("div", {class: ["json-view-container", e.theme, "deep-" + e.currentDeep]}, [n("div", {
                        class: ["json-view", e.length ? "closeable" : ""],
                        style: {fontSize: e.fontSize + "px", lineHeight: e.lineHeight + "px"}
                    }, [e.length && "square" === e.iconStyle ? n("span", {
                        staticClass: "angle",
                        on: {click: e.toggleClose}
                    }, [e.innerclosed ? n("svg", {
                        staticStyle: {
                            "vertical-align": "middle",
                            color: "rgb(42, 161, 152)",
                            height: "1em",
                            width: "1em"
                        }, attrs: {fill: e.iconColors[0], width: "1em", height: "1em", viewBox: "0 0 1792 1792"}
                    }, [n("path", {attrs: {d: "M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})]) : e._e(), e._v(" "), e.innerclosed ? e._e() : n("svg", {
                        staticStyle: {
                            "vertical-align": "middle",
                            color: "rgb(88, 110, 117)",
                            height: "1em",
                            width: "1em"
                        }, attrs: {fill: e.iconColors[1], width: "1em", height: "1em", viewBox: "0 0 1792 1792"}
                    }, [n("path", {attrs: {d: "M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})])]) : e._e(), e._v(" "), e.length && "circle" === e.iconStyle ? n("span", {
                        staticClass: "angle",
                        on: {click: e.toggleClose}
                    }, [e.innerclosed ? e._e() : n("svg", {
                        staticStyle: {
                            "vertical-align": "middle",
                            color: "rgb(1, 160, 228)",
                            height: "1em",
                            width: "1em"
                        }, attrs: {viewBox: "0 0 24 24", fill: e.iconColors[0], preserveAspectRatio: "xMidYMid meet"}
                    }, [n("path", {attrs: {d: "M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"}})]), e._v(" "), e.innerclosed ? n("svg", {
                        staticStyle: {
                            "vertical-align": "middle",
                            color: "rgb(161, 106, 148)",
                            height: "1em",
                            width: "1em"
                        }, attrs: {viewBox: "0 0 24 24", fill: e.iconColors[1], preserveAspectRatio: "xMidYMid meet"}
                    }, [n("path", {attrs: {d: "M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]) : e._e()]) : e._e(), e._v(" "), e.length && "triangle" === e.iconStyle ? n("span", {
                        staticClass: "angle",
                        on: {click: e.toggleClose}
                    }, [e.innerclosed ? e._e() : n("svg", {
                        staticStyle: {
                            "vertical-align": "top",
                            color: "#3c4047",
                            height: "1em",
                            width: "1em",
                            "padding-left": "2px"
                        }, attrs: {viewBox: "0 0 15 15", fill: e.iconColors[0]}
                    }, [n("path", {attrs: {d: "M0 5l6 6 6-6z"}})]), e._v(" "), e.innerclosed ? n("svg", {
                        staticStyle: {
                            "vertical-align": "top",
                            color: "#3c4047",
                            height: "1em",
                            width: "1em",
                            "padding-left": "2px"
                        }, attrs: {viewBox: "0 0 15 15", fill: e.iconColors[1]}
                    }, [n("path", {attrs: {d: "M0 14l6-6-6-6z"}})]) : e._e()]) : e._e(), e._v(" "), n("div", {staticClass: "content-wrap"}, [n("p", {
                        class: ["first-line", e.length > 0 ? "pointer" : ""],
                        on: {click: e.toggleClose}
                    }, [e.jsonKey ? n("span", {staticClass: "json-key"}, [e._v('"' + e._s(e.jsonKey) + '": ')]) : e._e(), e._v(" "), e.length ? n("span", [e._v(e._s(e.prefix) + e._s(e.innerclosed ? "..." + e.subfix : "") + "\n                    "), n("span", {staticClass: "json-note"}, [e._v(e._s(e.innerclosed ? e.length + " items" : ""))])]) : e._e(), e._v(" "), e.length ? e._e() : n("span", [e._v(e._s((e.isArray ? "[]" : "{}") + (e.isLast ? "" : ",")))])]), e._v(" "), !e.innerclosed && e.length ? n("div", {staticClass: "json-body"}, [e._l(e.items, function (t, o) {
                        return [t.isJSON ? n("json-view", {
                            key: o,
                            attrs: {
                                closed: e.isClose(),
                                data: t.value,
                                jsonKey: t.key,
                                currentDeep: e.templateDeep + 1,
                                deep: e.deep,
                                iconStyle: e.iconStyle,
                                theme: e.theme,
                                fontSize: e.fontSize,
                                lineHeight: e.lineHeight,
                                iconColor: e.iconColors,
                                isLast: o === e.items.length - 1,
                                hasSiblings: t.hasSiblings
                            }
                        }) : n("p", {
                            key: o,
                            staticClass: "json-item"
                        }, [n("span", {staticClass: "json-key"}, [e._v(e._s(e.isArray ? "" : '"' + t.key + '":'))]), e._v(" "), n("span", {class: ["json-value", e.getDataType(t.value)]}, [e._v("\n                            " + e._s(("string" === e.getDataType(t.value) ? '"' : "") + e.formatValue(t.value) + ("string" === e.getDataType(t.value) ? '"' : "") + (o === e.items.length - 1 ? "" : ",")) + "\n                        ")])])]
                    }), e._v(" "), e.innerclosed ? e._e() : n("span", {staticClass: "base-line"})], 2) : e._e(), e._v(" "), e.innerclosed ? e._e() : n("p", {staticClass: "last-line"}, [n("span", [e._v(e._s(e.subfix))])])])])]) : e._e()
                }, i = [], r = {render: o, staticRenderFns: i};
                t.a = r
            }])
        });
        //# sourceMappingURL=index.js.map
    </script>
    <script>
        /*
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

        /*
         * Configurable variables. You may need to tweak these to be compatible with
         * the server-side, but the defaults work in most cases.
         */
        var hexcase = 0;  /* hex output format. 0 - lowercase; 1 - uppercase        */
        var b64pad = ""; /* base-64 pad character. "=" for strict RFC compliance   */
        var chrsz = 8;  /* bits per input character. 8 - ASCII; 16 - Unicode      */

        /*
         * These are the functions you'll usually want to call
         * They take string arguments and return either hex or base-64 encoded strings
         */
        function hex_md5(s) {
            return binl2hex(core_md5(str2binl(s), s.length * chrsz));
        }

        function b64_md5(s) {
            return binl2b64(core_md5(str2binl(s), s.length * chrsz));
        }

        function str_md5(s) {
            return binl2str(core_md5(str2binl(s), s.length * chrsz));
        }

        function hex_hmac_md5(key, data) {
            return binl2hex(core_hmac_md5(key, data));
        }

        function b64_hmac_md5(key, data) {
            return binl2b64(core_hmac_md5(key, data));
        }

        function str_hmac_md5(key, data) {
            return binl2str(core_hmac_md5(key, data));
        }

        /*
         * Perform a simple self-test to see if the VM is working
         */
        function md5_vm_test() {
            return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72";
        }

        /*
         * Calculate the MD5 of an array of little-endian words, and a bit length
         */
        function core_md5(x, len) {
            /* append padding */
            x[len >> 5] |= 0x80 << ((len) % 32);
            x[(((len + 64) >>> 9) << 4) + 14] = len;

            var a = 1732584193;
            var b = -271733879;
            var c = -1732584194;
            var d = 271733878;

            for (var i = 0; i < x.length; i += 16) {
                var olda = a;
                var oldb = b;
                var oldc = c;
                var oldd = d;

                a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);
                d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);
                c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
                b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);
                a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);
                d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
                c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);
                b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);
                a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
                d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);
                c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);
                b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);
                a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
                d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);
                c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);
                b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);

                a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);
                d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);
                c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
                b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);
                a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);
                d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
                c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);
                b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);
                a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
                d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);
                c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);
                b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
                a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);
                d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);
                c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
                b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);

                a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);
                d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);
                c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
                b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);
                a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);
                d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
                c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);
                b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);
                a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
                d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);
                c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);
                b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
                a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);
                d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);
                c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
                b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);

                a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);
                d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
                c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);
                b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);
                a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
                d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);
                c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);
                b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);
                a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
                d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);
                c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);
                b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
                a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);
                d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);
                c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
                b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);

                a = safe_add(a, olda);
                b = safe_add(b, oldb);
                c = safe_add(c, oldc);
                d = safe_add(d, oldd);
            }
            return Array(a, b, c, d);

        }

        /*
         * These functions implement the four basic operations the algorithm uses.
         */
        function md5_cmn(q, a, b, x, s, t) {
            return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);
        }

        function md5_ff(a, b, c, d, x, s, t) {
            return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
        }

        function md5_gg(a, b, c, d, x, s, t) {
            return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
        }

        function md5_hh(a, b, c, d, x, s, t) {
            return md5_cmn(b ^ c ^ d, a, b, x, s, t);
        }

        function md5_ii(a, b, c, d, x, s, t) {
            return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
        }

        /*
         * Calculate the HMAC-MD5, of a key and some data
         */
        function core_hmac_md5(key, data) {
            var bkey = str2binl(key);
            if (bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);

            var ipad = Array(16), opad = Array(16);
            for (var i = 0; i < 16; i++) {
                ipad[i] = bkey[i] ^ 0x36363636;
                opad[i] = bkey[i] ^ 0x5C5C5C5C;
            }

            var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);
            return core_md5(opad.concat(hash), 512 + 128);
        }

        /*
         * Add integers, wrapping at 2^32. This uses 16-bit operations internally
         * to work around bugs in some JS interpreters.
         */
        function safe_add(x, y) {
            var lsw = (x & 0xFFFF) + (y & 0xFFFF);
            var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
            return (msw << 16) | (lsw & 0xFFFF);
        }

        /*
         * Bitwise rotate a 32-bit number to the left.
         */
        function bit_rol(num, cnt) {
            return (num << cnt) | (num >>> (32 - cnt));
        }

        /*
         * Convert a string to an array of little-endian words
         * If chrsz is ASCII, characters >255 have their hi-byte silently ignored.
         */
        function str2binl(str) {
            var bin = Array();
            var mask = (1 << chrsz) - 1;
            for (var i = 0; i < str.length * chrsz; i += chrsz)
                bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (i % 32);
            return bin;
        }

        /*
         * Convert an array of little-endian words to a string
         */
        function binl2str(bin) {
            var str = "";
            var mask = (1 << chrsz) - 1;
            for (var i = 0; i < bin.length * 32; i += chrsz)
                str += String.fromCharCode((bin[i >> 5] >>> (i % 32)) & mask);
            return str;
        }

        /*
         * Convert an array of little-endian words to a hex string.
         */
        function binl2hex(binarray) {
            var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
            var str = "";
            for (var i = 0; i < binarray.length * 4; i++) {
                str += hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8 + 4)) & 0xF) +
                    hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8)) & 0xF);
            }
            return str;
        }

        /*
         * Convert an array of little-endian words to a base-64 string
         */
        function binl2b64(binarray) {
            var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
            var str = "";
            for (var i = 0; i < binarray.length * 4; i += 3) {
                var triplet = (((binarray[i >> 2] >> 8 * (i % 4)) & 0xFF) << 16)
                    | (((binarray[i + 1 >> 2] >> 8 * ((i + 1) % 4)) & 0xFF) << 8)
                    | ((binarray[i + 2 >> 2] >> 8 * ((i + 2) % 4)) & 0xFF);
                for (var j = 0; j < 4; j++) {
                    if (i * 8 + j * 6 > binarray.length * 32) str += b64pad;
                    else str += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F);
                }
            }
            return str;
        }

    </script>
    <style>

        .warp {
            display: grid;
            grid-template-columns: 1fr auto 2fr;
        }

        html {
            padding: 0;
        }

        body {
            padding: 0 0.5em;
        }

        #app textarea {
            min-height: 60vh;
            min-width: 30vw;
            padding: 1em;
        }

        .input-warp > * {
            width: 100%;
        }

        .json-view-warp {
            border: 1px solid #666 ;
            background: #eee;
            padding: 1em;
        }

        .error {
            padding: 0 1em;
            color: #ff3333;
            font-size: 1.2em;
        }

        .json-view {
            background: #eee;
        }

        .padding-1 {
            padding: 1em;
        }

        code div {
            padding: 1em;
        }
        ol {
            padding-inline-start: inherit;
        }
        .history-box{
            border: 1px solid #666 ; padding: 0.5em 1em; margin-top: 1em; background: #eee
        }
    </style>
</head>
<body>
<h2>JSON在线格式化 <small>（ctrl+D 收藏）</small></h2>
<div style="display: none">
    <p>JSON在线格式化</p>
    <p>JSON在线生成POJO</p>
    <p>JSON在线转JAVA代码</p>
    <p>JSON在线压缩</p>
</div>

<div id="app">
    <div class="warp">


     <textarea v-model="jsonStr">

    </textarea>
        <div class="padding-1">
            <select v-model="convertType">
                <option value="format">
                    格式化
                </option>
                <option value="2java">
                    生成java代码
                </option>
                <option value="zip">
                    压缩
                </option>
            </select>
        </div>
        <div class="json-view-warp">
            <div v-if="json.error" v-text="json.error" class="error"></div>
            <div v-else-if="convertType=='2java'">
                <code v-for="item in convertJava(json.data)">
                    <div>public class {{item.className}} {
                        <div v-for="f in item.fields">
                            private {{f.type}} {{f.name}};
                        </div>
                        }
                    </div>
                </code>
            </div>
            <code v-else-if="convertType=='zip'">
                {{JSON.stringify(json.data)}}
            </code>
            <json-view v-else-if="convertType=='format'" :data="json.data" :line-height="20"/>

        </div>
    </div>
    <div class="history-box">
        <p>历史记录</p>
        <ol>
            <li v-for="item in history">
                <a href="javascript:void(0);" v-text="item.createdTime" @click="jsonStr=item.data" :title="item.data"></a>
            </li>
        </ol>
    </div>

</div>
<script>
    Date.prototype.format = function (fmt) {
        var o = {
            "M+": this.getMonth() + 1,                 //月份
            "d+": this.getDate(),                    //日
            "h+": this.getHours(),                   //小时
            "m+": this.getMinutes(),                 //分
            "s+": this.getSeconds(),                 //秒
            "q+": Math.floor((this.getMonth() + 3) / 3), //季度
            "S": this.getMilliseconds()             //毫秒
        };
        if (/(y+)/.test(fmt)) {
            fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        }
        for (var k in o) {
            if (new RegExp("(" + k + ")").test(fmt)) {
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
            }
        }
        return fmt;
    }
    let classInfo = {
        className: "",
        fields: [
            {type: "", name: ""}
        ]
    }

    function convertJava(v, classInfoArray, className) {
        if (instanceOf(v, Array)) {
            convertJava(v[0], classInfoArray, className)
        } else if (instanceOf(v, Object)) {
            let classInfo = {className};
            classInfoArray.push(classInfo)
            classInfo.fields = [];
            for (let name in v) {
                classInfo.fields.push({
                    type: getType(v[name], name),
                    name: name
                })
                convertJava(v[name], classInfoArray, getName(name))
            }

        } else {
        }
    }

    function getType(v, vName) {
        if (instanceOf(v, Array)) {
            return `List<${getName(vName)}>`;
        } else if (instanceOf(v, Number)) {
            return v + "".concat(".") ? "Integer" : "Double"
        } else if (isNaN(v) && !isNaN(Date.parse(v))) {
            return 'Date'
        } else if (instanceOf(v, String)) {
            return 'String'
        } else if (instanceOf(v, Boolean)) {
            return 'Boolean'
        } else if (instanceOf(v, Object)) {
            return getName(vName)
        } else {
            return 'Object'
        }
    }

    function getName(vName) {
        let v = vName.substr(0, 1).toUpperCase() + vName.substr(1)
        if (v.lastIndexOf('s') == v.length - 1) {
            return v.substr(0, v.length - 1)
        }
        return v
    }

    function instanceOf(t, type) {
        console.log(t, type.name, type.name.toLowerCase(), typeof t)
        return (t && t.constructor === type) || (type && typeof t === type.name.toLowerCase()) || t === type
    }

    window.onload = function () {
        new Vue({
            el: '#app',
            data() {
                return {
                    jsonStr: localStorage.getItem('jsonStr'),
                    convertType: 'format',
                    history: JSON.parse(localStorage.getItem('jsonStrHistory') || '[]')
                }
            },
            methods: {
                convertJava(v) {
                    let a = []
                    if (v) {
                        convertJava(v, a, 'RootBean')
                    }
                    return a;
                }
            },
            components: {
                jsonView: window['vue-json-view'].default,
            },
            computed: {
                json() {
                    if (this.jsonStr) {
                        try {
                            let d = {data: JSON.parse(this.jsonStr)}
                            localStorage.setItem('jsonStr', this.jsonStr)
                            return d;
                        } catch (e) {
                            return {data: {}, error: e.message}
                        }
                    } else {
                        return {data: {}}
                    }
                }
            },
            watch: {
                json() {
                    if (this.jsonStr) {
                        let historyStr = localStorage.getItem('jsonStrHistory') || '[]'
                        let id = hex_md5(this.jsonStr);
                        let history = JSON.parse(historyStr)
                        history = history.filter(o => o.id != id)
                        history.push({id, data: this.jsonStr, createdTime: new Date().format("yyyy-MM-dd hh:mm:ss")})
                        localStorage.setItem('jsonStrHistory', JSON.stringify(history))
                        this.history = history
                    }
                }
            }
        })
    }
</script>
</body>
</html>
